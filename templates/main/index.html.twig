{% extends 'base.html.twig' %}

{% block title %}MATOS - Emprunts et Gestion de matériel
{% endblock %}

{% block body %}
	{% include 'main/navbar.html.twig' %}
    <div class="pt-16">
    </div>
    {% for message in app.flashes('info') %}
        <div role="alert" class="alert alert-info">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="h-6 w-6 shrink-0 stroke-current">
                <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span>{{ message }}</span>
        </div>
    {% endfor %}
	<div class="flex justify-center mb-10">
		<div class="container px-10">
            <div class="flex justify-end pt-10">
                <div class="flex">
                    <div class="mx-2 w-10 h-full pending-reservation"></div>En cours de réservation
                </div>
                <div class="flex">
                    <div class="mx-2 w-10 h-full bg-error"></div>Réservé
                </div>
                <div class="mr-5"></div>
            </div>
            <div id="{{ audiovisualCategory|lower }}" class="row">
                <h2 class="text-3xl font-bold">{{ audiovisualCategory.name }}</h2>
                    {% set loans = equipmentLoaned[audiovisualCategory.id] ?? [] %}
                    {% include 'equipment_category/availability_table.html.twig' with {equipment: tableEquipment, dates: dates, loans: loans, unavailableDays: unavailableDays} %}
                <a href="{{ path('reservation_form_audiovisual') }}" class="btn btn-primary text-base-100">Faire une demande d'emprunt</a>
            </div>
            <div class="mt-10">
                Autres emprunts :
                <a href="{{ path('reservation_form_vr') }}" class="btn btn-primary text-base-100">Emprunt de casque VR</a>
                <a href="{{ path('reservation_form_graphic_design') }}" class="btn btn-primary text-base-100">Emprunt de tablettes graphiques</a>
            </div>
		</div>
	</div>
    {% include 'main/footer.html.twig' %}
{% endblock %}
